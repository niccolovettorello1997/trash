<!DOCTYPE html>

<html>
    <head>
        <!-- Get actual data -->
        <script src="src/resources/data.js"></script>
        <!-- Parser for trash data -->
        <script src="src/scripts/parser.js"></script>
        <!-- Functions for tomorrow's date -->
        <script src="src/scripts/tomorrow.js"></script>
    </head>

    <body>

        <h1 id="tomorrow">cccp</h1>

        <ul id="trashUl"></ul>

        <script>
            // Various formats for tomorrow's date
            var tomorrow = format(tomorrow());
            var year = tomorrow[0];
            var month = tomorrow[1] + 1;
            var day = tomorrow[2];
            var tomorrowDate = new Date(year + "-" + month + "-" + day);

            // Get trash for tomorrow
            let trashList = parse(
                provider(),
                year,
                month,
                day
            );

            // Fill with a conventional message if the result is the empty array
            if (trashList.length === 0) {
                trashList.push("Nessun rifiuto da portare fuori domani");
            }

            // Fill DOM elements
            document.getElementById("tomorrow").innerHTML = weekDays()[tomorrowDate.getDay()] +
                " " +
                day +
                " " +
                months()[month] +
                " " +
                year;

            let list = document.getElementById("trashUl");
            for (i = 0; i < trashList.length; ++i) {
                let li = document.createElement('li');
                li.innerText = trashList[i];
                list.appendChild(li);
            }
        </script>

    </body>
</html>
